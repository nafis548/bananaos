name: CI/CD Pipeline for Banana OS (Angular)

# ржХржЦржи ржПржЗ Workflow ржЯрж┐ ржЯрзНрж░рж┐ржЧрж╛рж░ рж╣ржмрзЗ рждрж╛ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗ
on:
  # ржпржЦржи main ржмрзНрж░рж╛ржЮрзНржЪрзЗ ржХрзЛржирзЛ ржХрзЛржб push ржХрж░рж╛ рж╣ржмрзЗ
  push:
    branches:
      - main
  # ржпржЦржи main ржмрзНрж░рж╛ржЮрзНржЪрзЗ ржХрзЛржирзЛ Pull Request рждрзИрж░рж┐ рж╣ржмрзЗ
  pull_request:
    branches:
      - main
  # ржорзНржпрж╛ржирзБржпрж╝рж╛рж▓рж┐ Workflow ржЪрж╛рж▓рж╛ржирзЛрж░ ржЕржкрж╢ржи
  workflow_dispatch:

jobs:
  build-and-test:
    # ржмрж┐рж▓рзНржбржЯрж┐ ржЪрж▓ржмрзЗ Ubuntu рж▓рзЗржЯрзЗрж╕рзНржЯ ржнрж╛рж░рзНрж╕ржирзЗ
    runs-on: ubuntu-latest

    steps:
      - name: ЁЯНМ Checkout Code
        uses: actions/checkout@v4
        
      - name: ЁЯЯв Setup Node.js
        # package.json ржерзЗржХрзЗ Node.js ржнрж╛рж░рзНрж╕ржи ржзрж░рзЗ ржирзЗржмрзЗ
        uses: actions/setup-node@v4
        with:
          node-version: 20  # ржЖржкржирж╛рж░ package.json-ржПрж░ ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ржЧрзБрж▓рж┐ Node 20-ржПрж░ рж╕рж╛ржерзЗ рж╕рж╛ржоржЮрзНржЬрж╕рзНржпржкрзВрж░рзНржг

      - name: ЁЯУж Install Dependencies
        # npm install ржЪрж╛рж▓рж╛ржирзЛрж░ ржЬржирзНржп package.json ржерзЗржХрзЗ рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржирзЗржмрзЗ
        run: npm install

      - name: ЁЯПЧя╕П Build Project
        # ржЖржкржирж╛рж░ package.json-ржПрж░ 'build' рж╕рзНржХрзНрж░рж┐ржкрзНржЯржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржкрзНрж░рзЛржЬрзЗржХрзНржЯ ржмрж┐рж▓рзНржб ржХрж░ржмрзЗ
        run: npm run build -- --configuration=production
        env:
          # ржмрж┐рж▓рзНржб ржХрж░рж╛рж░ рж╕ржоржпрж╝ ржкрж░рж┐ржмрзЗрж╢ ржнрзЗрж░рж┐ржпрж╝рзЗржмрж▓ (ржпржжрж┐ ржкрзНрж░ржпрж╝рзЛржЬржи рж╣ржпрж╝)
          NODE_ENV: production
          
      - name: ЁЯзк Run Tests (Placeholder)
        # ржЕрзНржпрж╛ржЩрзНржЧрзБрж▓рж╛рж░ ржкрзНрж░рзЛржЬрзЗржХрзНржЯрзЗ рж╕рж╛ржзрж╛рж░ржгржд Karma/Jasmine ржмрж╛ Jest ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝ред
        # ржпржжрж┐ ржЖржкржирж╛рж░ Test Script ржерж╛ржХрзЗ, рждржмрзЗ ржПржЦрж╛ржирзЗ рждрж╛ ржпрзЛржЧ ржХрж░рзБржиред
        run: echo "Skipping tests for this example. Add 'npm run test' here if applicable."

      # ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, ржпржжрж┐ ржЖржкржирж┐ GitHub Pages-ржП ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рждрзЗ ржЪрж╛ржи
      # - name: ЁЯЪА Deploy to GitHub Pages (Example)
      #   uses: peaceiris/actions-gh-pages@v4
      #   if: github.ref == 'refs/heads/main'
      #   with:
      #     github_token: ${{ secrets.GITHUB_TOKEN }}
      #     publish_dir: ./dist/app
